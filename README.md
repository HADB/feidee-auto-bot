# 随手记自动记账工具

## 背景

个人有记账的习惯，但是每天需要花费很多精力在从各个平台上手动把账单同步到随手记中，比较费时费力

通过统一消费账号，现在已经把绝大多数消费的最终账号都变成招商银行的信用卡了，微信&支付宝都是优先从信用卡扣款，有余额就立即提现

目前银行卡的账单数量相对较少，大部分记账负担在信用卡账单上，于是产生了做一个自动识别账单并记账的工具的想法

由于招商信用卡小额消费已经不发短信，而邮件订阅也是 T+1，无法满足当日完成记账的需求，于是最终通过账单截图来实现

目前只支持 iOS 掌上生活账单截图的处理，未来可能会覆盖更多场景

## 功能

上传掌上生活账单页面的截图，自动解析每条记录并上传至随手记

配合 iOS 的快捷指令，可以快速实现上述功能

## 使用方法

- 复制 `config-template.ini` 中的内容，创建 `config.ini`，配置随手记的邮箱和密码，生成一个随机的字符串作为 token

- 部署本服务

- 打开快捷指令模板：https://www.icloud.com/shortcuts/3a28dfdc635e43f0bfe77e9dd887ea23添加到你的快捷指令中

- 修改快捷指令中的 URL 域名为你部署的本服务的域名，token 为 config.ini 中配置的 token

- 将快捷指令设置为在共享表单中显示

- 在掌上生活账单页面截图，截图共享的时候选择快捷指令，根据提示操作，即可完成自动识别账单并上传到随手记了

- 打开随手记，下拉同步账本，即可看到自动添加的记录了